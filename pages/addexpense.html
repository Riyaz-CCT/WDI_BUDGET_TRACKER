<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Daily Expense Tracker</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <span class="open-button" id="open-modal">+ Add New Expenses</span>

  <div class="modal" id="expense-modal">
    <div class="modal-box">
      <span class="close-button" id="close-modal">&times;</span>
      <h2>Add New Expense Details</h2>

      <form id="expense-form" action="submit-expense.php" method="POST" enctype="multipart/form-data">
        <div>
          <label for="expense-date">Date <span class="required">*</span></label>
          <input type="date" id="expense-date" name="expense-date" max="" required>
        </div>

        <div>
          <label for="expense-category">Category <span class="required">*</span></label>
          <select id="expense-category" name="expense-category" required>
            <option value="">Select Category</option>
            <option value="Food">Food</option>
            <option value="Travel">Travel</option>
            <option value="Grocery">Grocery</option>
            <option value="Entertainment">Entertainment</option>
            <option value="Education">Education</option>
            <option value="Others">Others</option>
          </select>
        </div>

        <div>
          <label for="expense-amount">Amount <span class="required">*</span></label>
          <input type="number" id="expense-amount" name="expense-amount" placeholder="amount" required>
        </div>

        <div>
          <label for="transaction-type">Transaction Type <span class="required">*</span></label>
          <select id="transaction-type" name="transaction-type" required>
            <option value="">Select Type</option>
            <option value="Expense">Expense</option>
            <option value="Income">Income</option>
          </select>
        </div>

        <div>
          <label for="payment-method">Payment Method <span class="required">*</span></label>
          <select id="payment-method" name="payment-method" required>
            <option value="">Select Method</option>
            <option value="Cash">Cash</option>
            <option value="Card">Card</option>
            <option value="UPI">UPI</option>
          </select>
        </div>

        <div>
          <label for="expense-file">Attach File (PDF, JSON, DOCX, TXT)</label>
          <input type="file" id="expense-file" name="expense-file" accept=".pdf,.json,.docx,.txt">
        </div>

        <div class="full-width">
          <label for="expense-description">Description</label>
          <textarea id="expense-description" name="expense-description" placeholder="description"></textarea>
        </div>

        <div class="form-buttons">
          <span class="cancel-button" id="cancel-modal">Cancel</span>
          <button type="submit" class="save-button">Save</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    $(document).ready(function () {
      // Open and close modal
      $('#open-modal').click(function () {
        $('#expense-modal').addClass('show');
      });

      $('#close-modal, #cancel-modal').click(function () {
        $('#expense-modal').removeClass('show');
      });

      // Restrict date input to not allow future dates
      const today = new Date().toISOString().split("T")[0];
      $('#expense-date').attr("max", today);
    });
  </script>
</body>
</html>
