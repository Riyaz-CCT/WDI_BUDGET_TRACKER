<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sign Up</title>
    <link rel="stylesheet" href="/css/login_styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>
  <body>
    <div class="container">
      <!-- Left Section -->
      <div class="left-section">
        <div class="expenses-card-left">
          <div class="expense-title">
            <span class="icon">üìä</span> May 2025 Expenses
          </div>
          <div class="expense-amount">$2,000</div>
          <div class="expense-change"><span>‚¨ÜÔ∏è</span> 5%</div>

          <div class="graph-container">
            <div class="bar" style="--height: 60%"></div>
            <div class="bar" style="--height: 35%"></div>
            <div class="bar" style="--height: 45%"></div>
            <div class="bar today" style="--height: 80%"></div>
            <div class="bar" style="--height: 55%"></div>
            <div class="bar" style="--height: 30%"></div>
            <div class="bar" style="--height: 40%"></div>
          </div>

          <div class="days-labels">
            <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span>
            <span>Fri</span><span>Sat</span><span>Sun</span>
          </div>
        </div>

        <div class="expenses-card-right">
          <div class="expense-title">
            <span class="icon">üìä</span> June 2025 Expenses
          </div>
          <div class="expense-amount">$12,000</div>
          <div class="expense-change"><span>‚¨ÜÔ∏è</span> 12%</div>

          <div class="graph-container">
            <div class="bar" style="--height: 60%"></div>
            <div class="bar" style="--height: 35%"></div>
            <div class="bar" style="--height: 45%"></div>
            <div class="bar today" style="--height: 80%"></div>
            <div class="bar" style="--height: 55%"></div>
            <div class="bar" style="--height: 30%"></div>
            <div class="bar" style="--height: 40%"></div>
          </div>

          <div class="days-labels">
            <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span>
            <span>Fri</span><span>Sat</span><span>Sun</span>
          </div>
        </div>
      </div>

      <!-- Right Section -->
      <div class="right-section">
        <div class="logo">
          <img src="/assests/budget.png" alt="logo" />
          <span>FinTrack Pro</span>
        </div>
        <h1>Join the FinTrack Pro Family!</h1>
        <p class="subtext">Log in to continue your financial journey.</p>

        <form id="signup-form">
          <div class="input-row">
            <input type="text" placeholder="Full Name *" required />
            <input type="text" placeholder="Phone Number *" required />
          </div>

          <input type="email" placeholder="Email *" required />

          <div class="input-row">
            <div class="password-wrapper">
              <input
                type="password"
                id="password"
                placeholder="Password *"
                required
              />
              <span class="toggle-password" id="togglePassword">
                <i class="fa-solid fa-eye"></i>
              </span>
            </div>

            <div class="password-wrapper">
              <input
                type="password"
                id="confirm-password"
                placeholder="Re-enter Your Password *"
                required
              />
              <span class="toggle-password" id="toggleConfirmPassword">
                <i class="fa-solid fa-eye"></i>
              </span>
            </div>
          </div>

          <!-- Error message div -->
          <div id="password-error" class="error-message"></div>

          <!--  submit button -->
          <button type="submit" class="sign-in">Sign Up!</button>

          <p class="login-text">
            Already have an account? <a href="login.html">Log In</a>
          </p>

          <button type="button" class="google-btn">
            <img
              src="https://cdn-icons-png.flaticon.com/512/300/300221.png"
              alt="Google Icon"
            />
            Sign up with Google
          </button>
        </form>
      </div>
    </div>

    <!--  Redirect after form submission -->
    <script>
      // Password validation on form submit
      document
        .getElementById("signup-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          let password = document.getElementById("password").value;
          let confirmPassword =
            document.getElementById("confirm-password").value;
          let errorDiv = document.getElementById("password-error");

          // Password regex pattern
          let passwordPattern =
            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,12}$/;

          // Check if password matches criteria
          if (!passwordPattern.test(password)) {
            errorDiv.innerHTML =
              "Password must be 8‚Äì12 characters, include at least 1 uppercase, 1 lowercase, 1 number, and 1 special character !@#$%^&.";
            return;
          }

          // Check if passwords match
          if (password !== confirmPassword) {
            errorDiv.innerHTML = "Passwords do not match.";
            return;
          }

          // If everything‚Äôs valid, clear errors and redirect
          errorDiv.innerHTML = "";
          window.location.href = "profile.html";
        });

      // Toggle visibility for main password
      document
        .getElementById("togglePassword")
        .addEventListener("click", function () {
          let passwordField = document.getElementById("password");
          let icon = this.querySelector("i");
          let type =
            passwordField.getAttribute("type") === "password"
              ? "text"
              : "password";
          passwordField.setAttribute("type", type);
          icon.classList.toggle("fa-eye");
          icon.classList.toggle("fa-eye-slash");
        });

      // Toggle visibility for confirm password
      document
        .getElementById("toggleConfirmPassword")
        .addEventListener("click", function () {
          let confirmPasswordField =
            document.getElementById("confirm-password");
          let icon = this.querySelector("i");
          let type =
            confirmPasswordField.getAttribute("type") === "password"
              ? "text"
              : "password";
          confirmPasswordField.setAttribute("type", type);
          icon.classList.toggle("fa-eye");
          icon.classList.toggle("fa-eye-slash");
        });
    </script>
  </body>
</html>
